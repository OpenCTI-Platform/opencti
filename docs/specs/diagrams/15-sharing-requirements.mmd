---
title: "Partage des entites ‚Äî Ce qui doit etre partag√© pour que ca fonctionne"
---
graph TB
    subgraph RULE["Regle fondamentale de l'org segregation"]
        RULE_TEXT["Quand platform_organization est defini:\n\nüîí Toute entite SANS objectOrganization\nest INVISIBLE pour les users hors platform org\n\n‚Üí Il faut explicitement partager chaque entite\navec les orgs clientes via restrictionOrganizationAdd"]
    end

    subgraph SHARE["Ce qu'il faut partager avec chaque org client"]
        direction TB

        S1["1Ô∏è‚É£ IntrusionSets\n(Akira ‚Üí Acme, Kimsuky ‚Üí TechStart, etc.)"]
        S2["2Ô∏è‚É£ AttackPatterns\nutilises par ces IntrusionSets\n(78 pour Acme, 150 pour TechStart, 119 pour FinanceGroup)"]
        S3["3Ô∏è‚É£ SecurityCoverage\n(auto via pushResults ‚Üí addOrganizationRestriction)"]
        S4["4Ô∏è‚É£ has-covered relationships\nentre SecurityCoverage et AttackPatterns\n(sinon matrice MITRE vide pour le client)"]
        S5["5Ô∏è‚É£ SecurityCoverageResult\n(auto a la creation avec organization_id)"]
        S6["6Ô∏è‚É£ has-covered sur SecurityCoverageResult\n(pour que le client voie la matrice de ses propres resultats)"]

        S1 --> S2 --> S3 --> S4 --> S5 --> S6
    end

    subgraph MARKINGS["‚ö†Ô∏è Prerequis souvent oublie"]
        MARK_TEXT["Les Groupes doivent avoir les Markings\nassignes via accesses-to\n\nSans marking ‚Üí le user ne voit\nAUCUNE entite marquee\n(meme si l'org est correcte)"]
    end

    subgraph AUTO["Ce qui est automatique"]
        direction LR
        A1["‚úÖ pushResults ajoute\nl'org au objectOrganization\nde la SecurityCoverage"]
        A2["‚úÖ Platform org users\nvoient tout sans partage"]
        A3["‚úÖ BYPASS users\nvoient tout sans restriction"]
    end

    style RULE fill:#ffcdd2,stroke:#c62828
    style SHARE fill:#e3f2fd,stroke:#1565c0
    style MARKINGS fill:#fff9c4,stroke:#f9a825
    style AUTO fill:#c8e6c9,stroke:#2e7d32
